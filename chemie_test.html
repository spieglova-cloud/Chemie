<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vyƒç√≠slov√°n√≠ chemick√Ωch rovnic</title>

<style>
body {
    font-family: Arial, sans-serif;
    background-color: #eef2f7;
    margin: 0;
    padding: 15px;
}

.container {
    background: white;
    padding: 20px;
    border-radius: 15px;
    max-width: 600px;
    margin: auto;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

h1 {
    text-align: center;
    font-size: 22px;
}

label {
    font-size: 16px;
}

input[type="text"] {
    width: 100%;
    padding: 10px;
    font-size: 16px;
    margin-top: 5px;
    margin-bottom: 15px;
    border-radius: 8px;
    border: 1px solid #ccc;
}

.question {
    background: #f8f9fb;
    padding: 12px;
    border-radius: 10px;
    margin-bottom: 12px;
    font-size: 18px;
    line-height: 1.8;
}

input[type="number"] {
    width: 60px;
    padding: 10px;
    font-size: 18px;
    text-align: center;
    border-radius: 8px;
    border: 1px solid #bbb;
    margin: 5px 4px;
}

.correct {
    background-color: #c8f7c5;
}

.incorrect {
    background-color: #f7c5c5;
}

button {
    width: 100%;
    padding: 14px;
    font-size: 18px;
    border-radius: 12px;
    border: none;
    margin-bottom: 10px;
    cursor: pointer;
}

.level-btn {
    background-color: #6c5ce7;
    color: white;
}

.submit-btn {
    background-color: #2e86de;
    color: white;
}

#result {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    margin-top: 15px;
}

.hidden {
    display: none;
}
</style>
</head>

<body>

<div class="container">
<h1>üß™ Vyƒç√≠slov√°n√≠ rovnic</h1>

<label>Jm√©no:</label>
<input type="text" id="studentName" placeholder="Zadej sv√© jm√©no">

<button class="level-btn" onclick="setLevel('easy')">Lehk√° obt√≠≈ænost</button>
<button class="level-btn" onclick="setLevel('hard')">Tƒõ≈æ≈°√≠ obt√≠≈ænost</button>

<div id="easy" class="hidden">
<h3>Lehk√°</h3>

<div class="question">
<input type="number" id="e1a"> H‚ÇÇ + 
<input type="number" id="e1b"> O‚ÇÇ ‚Üí 
<input type="number" id="e1c"> H‚ÇÇO
</div>

<div class="question">
<input type="number" id="e2a"> Na + 
<input type="number" id="e2b"> Cl‚ÇÇ ‚Üí 
<input type="number" id="e2c"> NaCl
</div>

<div class="question">
<input type="number" id="e3a"> Mg + 
<input type="number" id="e3b"> O‚ÇÇ ‚Üí 
<input type="number" id="e3c"> MgO
</div>

</div>

<div id="hard" class="hidden">
<h3>Tƒõ≈æ≈°√≠</h3>

<div class="question">
<input type="number" id="h1a"> Fe + 
<input type="number" id="h1b"> O‚ÇÇ ‚Üí 
<input type="number" id="h1c"> Fe‚ÇÇO‚ÇÉ
</div>

<div class="question">
<input type="number" id="h2a"> Al + 
<input type="number" id="h2b"> O‚ÇÇ ‚Üí 
<input type="number" id="h2c"> Al‚ÇÇO‚ÇÉ
</div>

<div class="question">
<input type="number" id="h3a"> K + 
<input type="number" id="h3b"> Br‚ÇÇ ‚Üí 
<input type="number" id="h3c"> KBr
</div>

</div>

<button class="submit-btn" onclick="checkAnswers()">Odevzdat</button>

<div id="result"></div>

</div>

<script>

let currentLevel = "";

function setLevel(level) {
    currentLevel = level;
    document.getElementById("easy").classList.add("hidden");
    document.getElementById("hard").classList.add("hidden");
    document.getElementById(level).classList.remove("hidden");
    window.scrollTo(0, document.body.scrollHeight);
}

function checkAnswers() {

if (!currentLevel) {
    alert("Nejprve vyber obt√≠≈ænost.");
    return;
}

const answers = {
    easy: {
        e1a:2, e1b:1, e1c:2,
        e2a:2, e2b:1, e2c:2,
        e3a:2, e3b:1, e3c:2
    },
    hard: {
        h1a:4, h1b:3, h1c:2,
        h2a:4, h2b:3, h2c:2,
        h3a:2, h3b:1, h3c:2
    }
};

let score = 0;
let total = Object.keys(answers[currentLevel]).length;

for (let key in answers[currentLevel]) {
    let input = document.getElementById(key);
    let value = parseInt(input.value);
    input.classList.remove("correct","incorrect");

    if (value === answers[currentLevel][key]) {
        score++;
        input.classList.add("correct");
    } else {
        input.classList.add("incorrect");
    }
}

let percentage = Math.round((score / total) * 100);

document.getElementById("result").innerHTML =
    "Sk√≥re: " + score + " / " + total + 
    " (" + percentage + "%)";

let name = document.getElementById("studentName").value;

fetch("https://script.google.com/macros/s/AKfycbwuq-xUlg2bWUHjvblGVb9cmGtcJnl8U3oKeXv88okbJppmyXRUnc9jtWRMeIpVMjdJ/exec", {
    method: "POST",
    body: JSON.stringify({
        jmeno: name,
        obtiznost: currentLevel,
        skore: score,
        procenta: percentage
    })
});

}
</script>

</body>
</html>
